# Development Guide

## Getting Started

### Prerequisites
- Node.js 18+ or Bun runtime
- npm or bun package manager
- Git
- Code editor (VS Code recommended)

### Initial Setup

1. **Clone the repository**
```bash
git clone <repository-url>
cd natalia-s-therapy-space
```

2. **Install dependencies**
```bash
npm install
# or
bun install
```

3. **Start development server**
```bash
npm run dev
# or
bun run dev
```

The application will be available at `http://localhost:8080`

### Development Environment

#### Recommended VS Code Extensions
- ESLint
- Prettier
- Tailwind CSS IntelliSense
- TypeScript Vue Plugin (Volar)
- Path Intellisense
- Auto Rename Tag

#### Editor Configuration
```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  },
  "tailwindCSS.experimental.classRegex": [
    ["cva\\(([^)]*)\\)", "[\"'`]([^\"'`]*).*?[\"'`]"],
    ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"]
  ]
}
```

## Project Architecture

### Folder Structure Convention

#### `/src/components/`
**Purpose:** Reusable React components

**Naming Convention:**
- PascalCase for component files (e.g., `Header.tsx`, `ContactForm.tsx`)
- Group related components in subdirectories when needed

**Component Structure:**
```typescript
import { motion } from 'framer-motion';
import { useInView } from 'framer-motion';
import { useRef } from 'react';

const ComponentName = () => {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, margin: '-100px' });

  return (
    <section id="section-id" className="section-padding">
      <div className="container-wide">
        {/* Component content */}
      </div>
    </section>
  );
};

export default ComponentName;
```

#### `/src/components/ui/`
**Purpose:** shadcn/ui primitive components

**Important Notes:**
- These components are auto-generated by shadcn CLI
- Do not modify directly unless necessary
- Regenerate with `npx shadcn-ui@latest add [component-name]`
- Use composition over modification

#### `/src/pages/`
**Purpose:** Top-level page components that map to routes

**Convention:**
- Each page is a complete view
- Pages compose smaller components
- Use PascalCase naming

#### `/src/hooks/`
**Purpose:** Custom React hooks

**Naming Convention:**
- Prefix with `use` (e.g., `useMobile`, `useToast`)
- Export as named or default export

#### `/src/lib/`
**Purpose:** Utility functions and helpers

**Example:**
```typescript
// utils.ts
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

#### `/src/assets/`
**Purpose:** Static assets (images, fonts, etc.)

**Organization:**
- Keep images optimized
- Use WebP format when possible
- Name files descriptively (e.g., `hero-bg.jpg`)

## Styling Guidelines

### Tailwind CSS Best Practices

#### Use Custom Classes from `index.css`
```tsx
// Good - using predefined classes
<section className="section-padding">
<div className="container-wide">
<h2 className="heading-section">

// Avoid - inline styles everywhere
<section className="py-20 md:py-28 lg:py-32">
```

#### Available Custom Classes

**Layout:**
- `.section-padding` - Standard section spacing
- `.container-narrow` - Max width 4xl (centered)
- `.container-wide` - Max width 6xl (centered)

**Typography:**
- `.heading-display` - Hero/display headings
- `.heading-section` - Section headings
- `.heading-card` - Card/component headings
- `.text-body` - Standard body text
- `.text-body-large` - Larger body text

**Components:**
- `.card-service` - Service card styling with hover effect
- `.btn-primary` - Primary button style
- `.btn-outline` - Outline button style
- `.nav-link` - Navigation link style
- `.nav-link-active` - Active nav link

**Utilities:**
- `.divider-sage` - Sage-colored horizontal divider
- `.shadow-soft` - Soft shadow
- `.shadow-card` - Card shadow
- `.shadow-elevated` - Elevated shadow

#### Color Usage
```tsx
// Use semantic color variables
<div className="bg-background text-foreground">
<div className="bg-primary text-primary-foreground">
<div className="bg-card text-card-foreground">

// Custom colors available
<div className="bg-sage">
<div className="bg-sage-light">
<div className="bg-cream">
```

### Animation Patterns

#### Scroll-triggered Animations
```tsx
import { motion } from 'framer-motion';
import { useInView } from 'framer-motion';
import { useRef } from 'react';

const Component = () => {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, margin: '-100px' });

  return (
    <motion.div
      ref={ref}
      initial={{ opacity: 0, y: 30 }}
      animate={isInView ? { opacity: 1, y: 0 } : {}}
      transition={{ duration: 0.6 }}
    >
      Content
    </motion.div>
  );
};
```

#### Common Animation Variants
```tsx
// Fade up
initial={{ opacity: 0, y: 30 }}
animate={{ opacity: 1, y: 0 }}

// Fade in from left
initial={{ opacity: 0, x: -50 }}
animate={{ opacity: 1, x: 0 }}

// Fade in from right
initial={{ opacity: 0, x: 50 }}
animate={{ opacity: 1, x: 0 }}

// Staggered children
transition={{ duration: 0.6, delay: index * 0.15 }}
```

## Component Development

### Adding a New Section Component

1. **Create component file**
```tsx
// src/components/NewSection.tsx
import { motion } from 'framer-motion';
import { useInView } from 'framer-motion';
import { useRef } from 'react';

const NewSection = () => {
  const ref = useRef(null);
  const isInView = useInView(ref, { once: true, margin: '-100px' });

  return (
    <section id="new-section" className="section-padding">
      <div className="container-wide">
        <motion.div
          ref={ref}
          initial={{ opacity: 0, y: 30 }}
          animate={isInView ? { opacity: 1, y: 0 } : {}}
          transition={{ duration: 0.6 }}
          className="text-center mb-16"
        >
          <h2 className="heading-section text-foreground mb-4">
            Section Title
          </h2>
          <p className="text-body max-w-2xl mx-auto">
            Section description
          </p>
        </motion.div>
      </div>
    </section>
  );
};

export default NewSection;
```

2. **Add to Index page**
```tsx
// src/pages/Index.tsx
import NewSection from '@/components/NewSection';

const Index = () => {
  return (
    <div className="min-h-screen">
      <Header />
      <main>
        <Hero />
        {/* Other sections */}
        <NewSection />
      </main>
      <Footer />
    </div>
  );
};
```

3. **Add navigation link (if needed)**
```tsx
// src/components/Header.tsx
const navItems = [
  // ... existing items
  { href: '#new-section', label: 'New Section' },
];
```

### Using shadcn/ui Components

#### Adding a New UI Component
```bash
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add dialog
```

#### Using UI Components
```tsx
import { Button } from '@/components/ui/button';
import { Card, CardHeader, CardTitle, CardContent } from '@/components/ui/card';

const MyComponent = () => {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Title</CardTitle>
      </CardHeader>
      <CardContent>
        <Button variant="default">Click me</Button>
      </CardContent>
    </Card>
  );
};
```

## Form Development

### Contact Form Pattern
```tsx
import { useState } from 'react';
import { useToast } from '@/hooks/use-toast';

const ContactForm = () => {
  const { toast } = useToast();
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    message: '',
  });

  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault();

    // Process form data here

    toast({
      title: 'Success',
      description: 'Form submitted successfully',
    });

    // Reset form
    setFormData({ name: '', email: '', message: '' });
  };

  const handleChange = (
    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>
  ) => {
    setFormData({ ...formData, [e.target.name]: e.target.value });
  };

  return (
    <form onSubmit={handleSubmit}>
      <input
        type="text"
        name="name"
        value={formData.name}
        onChange={handleChange}
        required
      />
      {/* More fields */}
      <button type="submit">Submit</button>
    </form>
  );
};
```

## State Management

### Local State (useState)
```tsx
const [isOpen, setIsOpen] = useState(false);
const [data, setData] = useState<DataType[]>([]);
```

### React Query (for API calls)
```tsx
import { useQuery } from '@tanstack/react-query';

const { data, isLoading, error } = useQuery({
  queryKey: ['key'],
  queryFn: async () => {
    const response = await fetch('/api/endpoint');
    return response.json();
  },
});
```

## TypeScript Guidelines

### Type Definitions
```typescript
// Define types for component props
interface ComponentProps {
  title: string;
  description?: string;
  onAction: () => void;
}

const Component = ({ title, description, onAction }: ComponentProps) => {
  // Component logic
};

// Type form data
interface FormData {
  name: string;
  email: string;
  phone?: string;
  message: string;
}
```

### Common TypeScript Patterns
```typescript
// Event handlers
const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {
  // Handler logic
};

const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  // Handler logic
};

// Refs
const ref = useRef<HTMLDivElement>(null);
```

## Performance Optimization

### Image Optimization
- Use appropriate image formats (WebP, JPEG)
- Compress images before adding to project
- Consider lazy loading for below-fold images

### Code Splitting (Future)
```tsx
import { lazy, Suspense } from 'react';

const HeavyComponent = lazy(() => import('./HeavyComponent'));

const App = () => (
  <Suspense fallback={<div>Loading...</div>}>
    <HeavyComponent />
  </Suspense>
);
```

### Animation Performance
- Use `once: true` for scroll animations that should only run once
- Prefer transform and opacity for animations
- Avoid animating width, height, or layout properties

## Testing

### Manual Testing Checklist
- [ ] Desktop responsive (1920px, 1440px, 1280px)
- [ ] Tablet responsive (768px, 1024px)
- [ ] Mobile responsive (375px, 414px)
- [ ] Navigation works on all screen sizes
- [ ] Smooth scroll to sections
- [ ] Forms validate correctly
- [ ] Animations trigger properly
- [ ] Dark mode (if enabled)
- [ ] Accessibility (keyboard navigation, screen reader)

### Browser Testing
- [ ] Chrome/Chromium
- [ ] Firefox
- [ ] Safari
- [ ] Edge
- [ ] Mobile Safari (iOS)
- [ ] Chrome Mobile (Android)

## Debugging

### Common Issues

#### Animations Not Working
- Check if `ref` is attached to the element
- Verify `isInView` is being used in animate prop
- Check Framer Motion version compatibility

#### Styles Not Applying
- Verify Tailwind class names are correct
- Check for CSS specificity issues
- Ensure PostCSS is processing correctly

#### Build Errors
- Clear node_modules and reinstall: `rm -rf node_modules && npm install`
- Clear Vite cache: `rm -rf node_modules/.vite`
- Check TypeScript errors: `npx tsc --noEmit`

### Development Tools
```bash
# Check for type errors
npm run lint

# Build for production
npm run build

# Preview production build
npm run preview
```

## Git Workflow

### Commit Message Convention
```
feat: Add new testimonials section
fix: Resolve mobile menu closing issue
style: Update hero section typography
refactor: Simplify contact form logic
docs: Update README with setup instructions
chore: Update dependencies
```

### Branch Strategy
- `main` - Production-ready code
- `develop` - Development branch
- `feature/feature-name` - Feature branches
- `fix/bug-name` - Bug fix branches

## Deployment

### Pre-deployment Checklist
- [ ] Run `npm run build` successfully
- [ ] Test production build with `npm run preview`
- [ ] Update meta tags (title, description)
- [ ] Verify all images are optimized
- [ ] Check console for errors/warnings
- [ ] Test on multiple devices
- [ ] Validate HTML
- [ ] Check accessibility

### Environment Variables
Create `.env` file (if needed):
```
VITE_API_URL=https://api.example.com
VITE_CONTACT_EMAIL=contact@example.com
```

Access in code:
```typescript
const apiUrl = import.meta.env.VITE_API_URL;
```

## Maintenance

### Regular Updates
```bash
# Check for outdated packages
npm outdated

# Update packages
npm update

# Update specific package
npm install package-name@latest
```

### Security Audits
```bash
# Check for vulnerabilities
npm audit

# Fix vulnerabilities
npm audit fix
```

## Resources

### Documentation
- [React](https://react.dev/)
- [TypeScript](https://www.typescriptlang.org/docs/)
- [Vite](https://vitejs.dev/)
- [Tailwind CSS](https://tailwindcss.com/)
- [Framer Motion](https://www.framer.com/motion/)
- [shadcn/ui](https://ui.shadcn.com/)
- [React Router](https://reactrouter.com/)
- [TanStack Query](https://tanstack.com/query/)

### Design Resources
- [Google Fonts](https://fonts.google.com/)
- [Lucide Icons](https://lucide.dev/)
- [Tailwind Color Generator](https://uicolors.app/)
- [Coolors Palette Generator](https://coolors.co/)

## Getting Help

### Common Commands Reference
```bash
# Development
npm run dev              # Start dev server
npm run build           # Build for production
npm run preview         # Preview production build
npm run lint            # Run ESLint

# Package Management
npm install             # Install dependencies
npm install [package]   # Add new package
npm uninstall [package] # Remove package
npm update              # Update packages

# shadcn/ui
npx shadcn-ui@latest add [component]  # Add UI component
npx shadcn-ui@latest add --all        # Add all components
```

### Troubleshooting Steps
1. Clear cache and reinstall dependencies
2. Check Node.js version compatibility
3. Verify all imports are correct
4. Check browser console for errors
5. Review TypeScript errors
6. Test in incognito/private browsing mode
7. Check network tab for failed requests
